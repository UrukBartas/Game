
<div id="confirm-modal">
  <div class="row">
    <p class="text-third" urTitle>Select item</p>
  </div>
  <div class="row">
    <div
      class="inventory"
      [ngClass]="{ 'col-12': !getSelectedItem(), 'col-6': getSelectedItem() }"
    >
      <tabset>
        <tab id="tab1">
          <ng-template tabHeading>
            <span>‚öîÔ∏è</span>
          </ng-template>
          <ng-container *ngIf="currentInventory$ | async as inventory">
            <app-item-inventory
              [items]="inventory"
              [sockets]="currentSize$ | async"
              [showContextualMenu]="false"
              [disableDND]="false"
              [(selectedItems)]="selectedItems"
              [multipleSelection]="false"
            >
            </app-item-inventory>
          </ng-container>
        </tab>
        <tab>
          <ng-template tabHeading>
            <span>üß±</span>
          </ng-template>
          <app-materials-inventory
            [items]="currentMaterials$ | async"
            [sockets]="currentSize$ | async"
            [(selectedItems)]="selectedMaterials"
            [multipleSelection]="false"
          >
          </app-materials-inventory
        ></tab>
        <tab>
          <ng-template tabHeading>
            <span>‚öóÔ∏è</span>
          </ng-template>
          <app-consumables-inventory
            [items]="currentConsumableInventory$ | async"
            [sockets]="currentSize$ | async"
            [(selectedItems)]="selectedConsumables"
            [multipleSelection]="false"
          >
          </app-consumables-inventory>
        </tab>
        <tab>
          <ng-template tabHeading>
            <span>üìú</span>
          </ng-template>
          <app-misc-inventory
            [items]="currentMiscInventory$ | async"
            [sockets]="currentSize$ | async"
            [(selectedItems)]="selectedtableMisc"
            [multipleSelection]="false"
          >
          </app-misc-inventory>
        </tab>
      </tabset>
    </div>
    <div
      class="col-6 d-flex align-items-center justify-content-center preview-sell"
      *ngIf="!!getSelectedItem()"
    >
      <app-item-box
        [image]="getSelectedImage()"
        [height]="getItemBoxSize()"
        [width]="getItemBoxSize()"
      >
        <div tooltip class="tooltip-uruk">
          @if (!!getSelectedItem()?.itemData) {
            <app-item-tooltip [item]="getSelectedItem()"></app-item-tooltip>
          } @else {
            <app-generic-item-tooltip
              [item]="getGenericItemItemData(getSelectedItem())"
            ></app-generic-item-tooltip>
          }
        </div>
      </app-item-box>
      <div class="form-group">
        <label for="characterName" class="text-third">Price</label>
        <input
          type="number"
          class="form-control"
          id="characterName"
          [formControl]="price"
          name="characterName"
          placeholder="Item price"
          validInput
        />
      </div>
    </div>
  </div>

  <div class="d-flex w-100 justify-content-end pt-3">
    <button class="btn btn-secondary btn-transparent" (click)="modalRef.hide()">
      Cancel
    </button>
    <button
      class="btn btn-secondary"
      (click)="accept()"
      [disabled]="!getSelectedItem() || price.invalid"
    >
      Accept
    </button>
  </div>
</div>
