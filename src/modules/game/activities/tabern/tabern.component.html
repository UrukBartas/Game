<div id="tavern" class="tavern-container">
  <!-- Tavern Navigation -->
  <div class="tavern-navigation">
    <button
      class="tavern-nav-btn"
      [class.active]="currentTavernSection === 'missions'"
      (click)="switchTavernSection('missions')"
    >
      <i class="fas fa-scroll"></i> Mission Board
    </button>
    <button
      class="tavern-nav-btn"
      [class.active]="currentTavernSection === 'games'"
      (click)="switchTavernSection('games')"
    >
      <i class="fas fa-dice"></i> Tavern Games
    </button>
    <button
      class="tavern-nav-btn"
      [class.active]="currentTavernSection === 'shop'"
      (click)="switchTavernSection('shop')"
      [disabled]="true"
    >
      <i class="fas fa-store"></i> Tavern Shop
      <span class="coming-soon-badge">Soon</span>
    </button>
  </div>

  <!-- Mission Board Section -->
  <div class="tavern-section" *ngIf="currentTavernSection === 'missions'">
    <app-mission-board
      [missions]="missions"
      [playerMissions]="playerMissions"
      [activeMission]="activeMission"
      [loading]="loading"
      (missionsUpdated)="refreshMissions()"
    ></app-mission-board>
  </div>

  <!-- Tavern Games Section -->
  <div class="tavern-section" *ngIf="currentTavernSection === 'games'">
    <div class="tavern-games">
      <div class="games-header">
        <h2><i class="fas fa-dice"></i> Tavern Games</h2>
      </div>

      <div class="games-container" *ngIf="!selectedGame">
        <!-- Wheel of Fortune Game Card -->
        <div class="game-card" (click)="selectGame('fortune-wheel')">
          <div class="game-icon">
            <i class="fas fa-dharmachakra"></i>
          </div>
          <h3>Wheel of Fortune</h3>
          <p>Spin the wheel and test your luck! Bet on a multiplier and win big rewards!</p>
          <button class="play-btn">
            <i class="fas fa-play"></i> Play Now
          </button>
        </div>

        <!-- Coin Flip Game Card -->
        <div class="game-card" (click)="selectGame('coin-flip')">
          <div class="game-icon">
            <i class="fas fa-sync-alt"></i>
          </div>
          <h3>Coin Flip</h3>
          <p>Test your luck with the magical coin! Choose heads, tails, or try for the rare goblin!</p>
          <button class="play-btn">
            <i class="fas fa-play"></i> Play Now
          </button>
        </div>

        <div class="game-card">
          <div class="game-icon">
            <i class="fas fa-dice"></i>
          </div>
          <h3>Dice Game</h3>
          <p>Roll the dice and test your fortune in this classic tavern game.</p>
          <button class="play-btn" disabled>
            <i class="fas fa-lock"></i> Coming Soon
          </button>
        </div>
      </div>

      <!-- Selected Game Container -->
      <div class="selected-game-container" *ngIf="selectedGame">
        <div class="game-header">
          <button class="back-btn" (click)="closeGame()">
            <i class="fas fa-arrow-left"></i> Back to Games
          </button>
        </div>

        <!-- Fortune Wheel Game -->
        <app-fortune-wheel *ngIf="selectedGame === 'fortune-wheel'"></app-fortune-wheel>

        <!-- Coin Flip Game -->
        <app-coin-flip *ngIf="selectedGame === 'coin-flip'"></app-coin-flip>
      </div>
    </div>
  </div>

  <!-- UrukBox Chat Section -->
  <div class="tavern-bg"></div>
</div>
