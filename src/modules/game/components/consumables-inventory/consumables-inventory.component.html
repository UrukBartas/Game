<app-inventory-topbar
  [(inventory)]="items"
  [disableSort]="true"
  [(searchTerm)]="searchTerm"
></app-inventory-topbar>
<div class="consumables-inventory">
  @for (box of boxes; track box.id; let indexConsumable = $index) {
    <app-item-box
      (click)="selectNewItem.emit(filteredItems[indexConsumable])"
      [height]="40"
      [width]="40"
      [active]="
        !!selectedItem &&
        !!filteredItems[indexConsumable] &&
        selectedItem.id == filteredItems[indexConsumable].id
      "
      [stack]="filteredItems[indexConsumable]?.stack ?? 0"
      [image]="
        filteredItems[indexConsumable]?.consumableData?.imageLocal
          ? filteredItems[indexConsumable].consumableData.imageLocal
          : null
      "
    >
      @if (!!filteredItems[indexConsumable]) {
        <div tooltip class="tooltip-uruk">
          <app-consumable-tooltip
            [item]="filteredItems[indexConsumable].consumableData"
          ></app-consumable-tooltip>
        </div>
      }
    </app-item-box>
  }
  <ng-content select="[extraItemBoxes]"></ng-content>
</div>
